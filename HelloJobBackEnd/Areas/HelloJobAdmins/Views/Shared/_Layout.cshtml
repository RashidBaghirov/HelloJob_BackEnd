@using HelloJobBackEnd.Utilities.Enum;
@inject HelloJobBackEnd.Services.LayoutService layoutService
@{
    var orders = layoutService.GetAllData();

}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Majestic Admin</title>
    <link rel="stylesheet" href="~/admin/assets/vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="~/admin/assets/vendors/base/vendor.bundle.base.css">
    <link rel="stylesheet" href="~/admin/assets/vendors/datatables.net-bs4/dataTables.bootstrap4.css">
    <link rel="stylesheet" href="~/admin/assets/css/style.css">
    <link rel="shortcut icon" href="images/favicon.png" />
    <link rel="shortcut icon"
          type="image/x-icon"
          href="~/assets/images/favicon.ico" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" />
    <link rel="stylesheet" href="~/assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/assets/css/font-awesome.min.css" />
    <link rel="icon shortcut" href="https://www.hellojob.az/content/assets/images/favicon.svg?v=2">

</head>
<body>
    <div class="container-scroller">
        <nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
            <div class="navbar-brand-wrapper d-flex justify-content-center">
                <div class="navbar-brand-inner-wrapper d-flex justify-content-between align-items-center w-100">
                    <a class="navbar-brand brand-logo" asp-area="HelloJobAdmins" asp-controller="home" asp-action="Index"><img style="height:80px;" src="~/assets/images/logo.svg" alt="logo" /></a>
                    <a class="navbar-brand brand-logo-mini" href="index.html"><img src="~/assets/images/logo.svg" alt="logo" /></a>
                    <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
                        <span class="mdi mdi-sort-variant"></span>
                    </button>
                </div>
            </div>
            <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
                <ul class="navbar-nav navbar-nav-right">
                    <li class="nav-item dropdown me-4">
                        <a class="nav-link count-indicator dropdown-toggle d-flex align-items-center justify-content-center notification-dropdown" id="notificationDropdown" href="#" data-bs-toggle="dropdown">
                            <i class="mdi mdi-bell mx-0"></i>
                            @if (orders.vacansList.Any() || orders.cvList.Any() || orders.companyList.Any())
                            {
                                <span class="count"></span>
                            }
                        </a>
                        <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="messageDropdown">
                            <p class="mb-0 font-weight-normal float-left dropdown-header">Messages</p>

                            @foreach (var vacans in orders.vacansList)
                            {
                                    <a class="dropdown-item">
                                        <div class="item-thumbnail">
                                        <img src="~/assets/images/BusinessTitle/@vacans.BusinessArea.BusinessTitle.Image" alt="image" class="profile-pic">
                                        </div>
                                        <div class="item-content flex-grow">
                                            <h6 class="ellipsis font-weight-normal">
                                                @vacans.Company.Name
                                            </h6>
                                            <p class="font-weight-light small-text text-muted mb-0">
                                                @vacans.Position
                                            </p>
                                        </div>
                                    </a>
                            }

                            @foreach (var cv in orders.cvList)
                            {
                                <a class="dropdown-item">
                                    <div class="item-thumbnail">
                                        <img src="~/assets/images/User/@cv.Image" alt="image" class="profile-pic">
                                    </div>
                                    <div class="item-content flex-grow">
                                        <h6 class="ellipsis font-weight-normal">
                                            @string.Concat(cv.Name," ",cv.Surname)
                                        </h6>
                                        <p class="font-weight-light small-text text-muted mb-0">
                                            @cv.Position
                                        </p>
                                    </div>
                                </a>
                            }
                            @foreach (var company in orders.companyList)
                            {
                                <a class="dropdown-item">
                                    <div class="item-thumbnail">
                                        <img src="~/assets/images/Company/@company.Image" alt="image" class="profile-pic">
                                    </div>
                                    <div class="item-content flex-grow">
                                        <h6 class="ellipsis font-weight-normal">
                                            @company.Name
                                        </h6>
                                    </div>
                                </a>
                            }
                        </div>
                    </li>
                    <li class="nav-item nav-profile dropdown">
                        <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" id="profileDropdown">
                            <span class="nav-profile-name">@User.Identity.Name</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="profileDropdown">
                            <a asp-area="" asp-controller="AdminLogin" asp-action="LogOut" style="display:block;">
                                <i class="mdi mdi-logout text-primary"></i>
                                Logout
                            </a>
                            <a asp-area="" asp-controller="Account" asp-action="LogOut" style="display:block;">
                                <i class="mdi mdi-logout text-primary"></i>
                                Page
                            </a>
                        </div>
                    </li>
                </ul>
                <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-toggle="offcanvas">
                    <span class="mdi mdi-menu"></span>
                </button>
            </div>
        </nav>
        <div class="container-fluid page-body-wrapper">
            <nav class="sidebar sidebar-offcanvas" id="sidebar">
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link " asp-area="HelloJobAdmins" asp-controller="CompanyOrder" asp-action="Index" style="color:black">
                            <i class="mdi mdi-file-document-box-outline menu-icon"></i>
                            <span class="menu-title">Companies</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " asp-area="HelloJobAdmins" asp-controller="VacansOrder" asp-action="Index">
                            <i class="mdi mdi-file-document-box-outline menu-icon"></i>
                            <span class="menu-title">Vacans</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " asp-area="HelloJobAdmins" asp-controller="CvOrder" asp-action="Index">
                            <i class="mdi mdi-file-document-box-outline menu-icon"></i>
                            <span class="menu-title">Cvs</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " asp-area="HelloJobAdmins" asp-controller="City" asp-action="Index">
                            <i class="mdi mdi-file-document-box-outline menu-icon"></i>
                            <span class="menu-title">Cities</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " asp-area="HelloJobAdmins" asp-controller="Education" asp-action="Index">
                            <i class="mdi mdi-file-document-box-outline menu-icon"></i>
                            <span class="menu-title">Educations</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " asp-area="HelloJobAdmins" asp-controller="Experience" asp-action="Index">
                            <i class="mdi mdi-file-document-box-outline menu-icon"></i>
                            <span class="menu-title">Experience</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " asp-area="HelloJobAdmins" asp-controller="BusinessTitle" asp-action="Index">
                            <i class="mdi mdi-file-document-box-outline menu-icon"></i>
                            <span class="menu-title">BusinessTItles</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " asp-area="HelloJobAdmins" asp-controller="BusinessArea" asp-action="Index">
                            <i class="mdi mdi-file-document-box-outline menu-icon"></i>
                            <span class="menu-title">BusinessAreas</span>
                        </a>
                    </li>
            
                    <li class="nav-item">
                        <a class="nav-link " asp-area="HelloJobAdmins" asp-controller="OperatingMode" asp-action="Index">
                            <i class="mdi mdi-file-document-box-outline menu-icon"></i>
                            <span class="menu-title">OperatingMode</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " asp-area="HelloJobAdmins" asp-controller="Setting" asp-action="Index">
                            <i class="mdi mdi-file-document-box-outline menu-icon"></i>
                            <span class="menu-title">Settings</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " asp-area="HelloJobAdmins" asp-controller="Rules" asp-action="Index">
                            <i class="mdi mdi-file-document-box-outline menu-icon"></i>
                            <span class="menu-title">Rules</span>
                        </a>
                    </li>
                    @if (User.IsInRole(AdminRoles.superadmin.ToString()))
                    {
                        <li class="nav-item ">
                            <a class="nav-link text-danger" asp-area="HelloJobAdmins" asp-controller="AdminRegister" asp-action="Register">
                                <i class="mdi mdi-file-document-box-outline menu-icon"></i>
                                <span class="menu-title">Register</span>
                            </a>
                        </li>
                    }

                </ul>
            </nav>
            <div class="main-panel">
                @RenderBody()
            </div>

            <!-- partial -->
        </div>
        <footer class="footer">
            <div class="d-sm-flex justify-content-center justify-content-sm-between">
                <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">Copyright © <a href="https://www.bootstrapdash.com/" target="_blank">bootstrapdash.com </a>2021</span>
                <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">Only the best <a href="https://www.bootstrapdash.com/" target="_blank"> Bootstrap dashboard  </a> templates</span>
            </div>
        </footer>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"
            integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU="
            crossorigin="anonymous"></script>
    <script src="~/admin/assets/vendors/base/vendor.bundle.base.js"></script>
    <script src="~/admin/assets/vendors/chart.js/Chart.min.js"></script>
    <script src="~/admin/assets/vendors/datatables.net/jquery.dataTables.js"></script>
    <script src="~/admin/assets/vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script>
    <script src="~/admin/assets/js/off-canvas.js"></script>
    <script src="~/admin/assets/js/hoverable-collapse.js"></script>
    <script src="~/admin/assets/js/template.js"></script>
    <script src="~/admin/assets/js/dashboard.js"></script>
    <script src="~/admin/assets/js/data-table.js"></script>
    <script src="~/admin/assets/js/jquery.dataTables.js"></script>
    <script src="~/admin/assets/js/dataTables.bootstrap4.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    @RenderSection("Scripts",false)
    <script src="~/admin/assets/js/jquery.cookie.js" type="text/javascript"></script>
</body>

</html>